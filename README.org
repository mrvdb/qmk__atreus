* Build custom firmware for [[https://shop.keyboard.io/collections/keyboardio-atreus][keyboard.io model Atreus]] in two ways

1. Using a github action which takes  =atreus.json= and builds binary firmware
2. A script (=build=) which uses a GUIX container to build it locally using qmk


** Ad 1.

doc: https://docs.qmk.fm/#/newbs_building_firmware_workflow

Roughly how it works:

- use https://config.qmk.fm/ to load atreus.json

- adjust what is needed, possibly compile firmware and flash until done

- download the updated json file in this repo

- commit and push to github, github workflow will build the firmware and produce it as artifact


** Ad 2

=build= shell script spawns a GUIX shell and builds firmware locally using =manifest.scm=

* Rationale:
- provide backup for local setup which is fragile on powerpc64le / guix
- have verification: take same json file, produce artifact and compare with locally build firwmare (deterministic?]

* Misc
Keymapping doc:

- Layer 0 :: Base layer
- Layer 1 :: Number keys, navigation and bracketing
- Layer 2 :: Function layer, macros
- Layer 3 :: Specials and dangerous key combinations\n

* TODO Make C-M-a easier
:PROPERTIES:
:CREATED:  [2022-12-23 Fri 18:19]
:END:
The right alt key is actually alt-gr so that maps to =C-ä= instead of =C-M-a=

Either:
- map C-ä to the same function as C-M-a

* TODO Move reset-keyboard into code instead of keymap
:PROPERTIES:
:CREATED:  [2022-12-24 Sat 17:23]
:END:

Feels more in place in firmware code than in the keymapping, although factually it is exactly the same.
If however put in code, it's harder to discover (if using the json keymap)

* TODO Fine tune tap-hold configuration
:PROPERTIES:
:CREATED:  [2022-12-24 Sat 17:25]
:END:

Notably the Z and / key which double up as left and right shift modifier when hold have some issues:

- +when used with other modifiers like Layer modifiers the order in which the modifiers are typed seems to be important, which sucks+
  Solved with transparent SHIFT keys in layer 1 for the most part.

  https://docs.qmk.fm/#/tap_hold has lots of informatieon.

-
  afjdk;adfjk;
